<div> 
    <div> 
        <h1>Player 1</h1> 
        <div class="api_output"></div> 
        <iframe id="player_1" src="http://player.vimeo.com/video/7100569?js_api=1&js_swf_id=player_1" width="500" height="281" frameborder="0"></iframe> 
        <button class="simple" id="api_pause">Pause</button> 
    </div> 
</div> 

<div> 
    <div> 
        <h1>Player 2</h1> 
        <div class="api_output"></div> 
        <iframe id="player_2" src="http://player.vimeo.com/video/3718294?js_api=1&js_swf_id=player_2" width="500" height="281" frameborder="0"></iframe> 
        <button class="simple" id="api_pause">Pause</button> 
    </div> 
</div> 


<script type="text/javascript">
    var VimeoEmbed = {};
		Froogaloop.init();
		


    //Called on document ready
    VimeoEmbed.init = function(e)
    {
        //Listen to the load event for all the iframes on the page
        $('iframe').each(function(index, iframe){
            iframe.addEvent('onLoad', VimeoEmbed.vimeo_player_loaded);
        });
    };


    //EVENT CALLBACKS
    /*
     * Called when the player finishes loading. The JavaScript API is only available
     * after this event fires.
     *
     * @param player_id (String): ID of the iframe which has finished loading.
     */
    VimeoEmbed.vimeo_player_loaded = function(player_id)
    {
        $('#'+player_id).prev('.api_output').append('VimeoEmbed.vimeo_player_loaded ' + player_id+'<br/>');


        //Simple Buttons
        $('#'+player_id).nextAll('button.simple').bind('click', {'player_id': player_id}, function(e){
            var iframe = $('#'+e.data.player_id).get(0);
            iframe.api( $(e.target).attr('id'), null );
        });

        //API EVENT LISTENERS
        VimeoEmbed.setupAPIEventListeners($('#'+player_id).get(0));
    };
    
    /**
     * Adds event listeners for Moogaloop events.
     */
    VimeoEmbed.setupAPIEventListeners = function(target)
    {
        target.addEvent( 'onPause', VimeoEmbed.vimeo_on_pause);
    };


    //API EVENTS
    VimeoEmbed.vimeo_on_pause = function(player_id) {
        $('#'+player_id).prev('.api_output').html('Paused<br/>');
    };

    //On document ready
    $(document).ready(VimeoEmbed.init);
</script>
